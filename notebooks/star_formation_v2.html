
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Star Formation in Galaxies &#8212; ESCIP</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="SDSS Tutorial #1: Data Querying and Visualization" href="sdss_tutorial_1.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/logo.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">ESCIP</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  About
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../team.html">
   Team
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../guidelines/intro.html">
   Guidelines
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../guidelines/guidelines.html">
     Format of notebooks
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../guidelines/template.html">
     Template notebook
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../workshops/intro.html">
   Workshops
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/workshop2023.html">
     January 2023 In-Person Workshop
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../workshops/workshop2022.html">
     Summer 2022 In-Person Workshop
    </a>
   </li>
  </ul>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Notebooks
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="fourier_transform.html">
   Fourier Transforms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="linear_variational_method.html">
   Linear Variational Method
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="gaussian_wavepacket.html">
   Time evolution of a Gaussian wavepacket
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pib_delta_potential_dynamics.html">
   Dyanmics of particle in a box with a delta potential
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="modelfit_part1.html">
   Fitting Models to Data (Part 1)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="modelfit_part2.html">
   Fitting Models to Data (Part 2)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sdss_tutorial_1.html">
   SDSS Tutorial #1:  Data Querying and Visualization
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Star Formation in Galaxies
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/ESCIP/escip.github.io/jbook?urlpath=lab/tree/notebooks/star_formation_v2.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
      <li>
        <a href="https://colab.research.google.com/github/ESCIP/escip.github.io/blob/jbook/notebooks/star_formation_v2.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Colab"
>
  

<span class="headerbtn__icon-container">
  
    <img src="../_static/images/logo_colab.png">
  </span>
<span class="headerbtn__text-container">Colab</span>
</a>

      </li>
      
      <li>
        
<button onclick="initThebeSBT()"
  class="headerbtn headerbtn-launch-thebe"
  data-toggle="tooltip"
data-placement="left"
title="Launch Thebe"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="headerbtn__text-container">Live Code</span>
</button>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/ESCIP/escip.github.io"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="headerbtn__text-container">repository</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/ESCIP/escip.github.io/issues/new?title=Issue%20on%20page%20%2Fnotebooks/star_formation_v2.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/notebooks/star_formation_v2.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Star Formation in Galaxies
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objectives">
     Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-outcomes">
     Learning Outcomes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     Prerequisites
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#choosing-a-sample-of-galaxies">
   Choosing a Sample of Galaxies
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dereddening-the-spectrum">
   Dereddening the Spectrum
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#determining-the-star-formation-rate">
   Determining the Star Formation Rate
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-star-forming-main-sequence">
   The Star Forming Main Sequence
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-the-sample-with-image-cutouts">
   Visualizing the Sample with Image Cutouts
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#understanding-the-ssfr-metric">
   Understanding the sSFR Metric
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-link-to-sfhs">
   Creating a Link to SFHs
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#follow-up-questions">
   Follow Up Questions
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Star Formation in Galaxies</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#">
   Star Formation in Galaxies
  </a>
  <ul class="visible nav section-nav flex-column">
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#objectives">
     Objectives
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#learning-outcomes">
     Learning Outcomes
    </a>
   </li>
   <li class="toc-h2 nav-item toc-entry">
    <a class="reference internal nav-link" href="#prerequisites">
     Prerequisites
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#choosing-a-sample-of-galaxies">
   Choosing a Sample of Galaxies
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dereddening-the-spectrum">
   Dereddening the Spectrum
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#determining-the-star-formation-rate">
   Determining the Star Formation Rate
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-star-forming-main-sequence">
   The Star Forming Main Sequence
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualizing-the-sample-with-image-cutouts">
   Visualizing the Sample with Image Cutouts
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#understanding-the-ssfr-metric">
   Understanding the sSFR Metric
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-link-to-sfhs">
   Creating a Link to SFHs
  </a>
 </li>
 <li class="toc-h1 nav-item toc-entry">
  <a class="reference internal nav-link" href="#follow-up-questions">
   Follow Up Questions
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="star-formation-in-galaxies">
<h1>Star Formation in Galaxies<a class="headerlink" href="#star-formation-in-galaxies" title="Permalink to this headline">#</a></h1>
<p><a class="reference external" href="https://facstaff.elon.edu/crichardson17/">Chris Richardson, Elon University</a></p>
<p><i>Funding for this tutorial made possible through the <a class="reference external" href="https://www.elon.edu/u/academics/catl/sotl/catl-scholars-program/">CATL Scholars Program</a></i></p>
<p><i>This tutorial is intended for students to complete in groups. A version with solutions is available to instructors upon <a href="mailto:crichardson17@elon.edu">request</a>.</i></p>
<section id="objectives">
<h2>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>To explore scaling relationships among star forming galaxies in SDSS</p></li>
<li><p>To understand how SDSS galaxy images and spectra can help us understand star formation rate (SFR) metrics</p></li>
<li><p>To make a connection between the current SFR of a galaxy and its star formation history</p></li>
<li><p>To provide a foundation to explore your own questions about star formation in galaxies</p></li>
</ul>
</section>
<section id="learning-outcomes">
<h2>Learning Outcomes<a class="headerlink" href="#learning-outcomes" title="Permalink to this headline">#</a></h2>
<p>By the end of this tutorial you should be able to:</p>
<ul class="simple">
<li><p>Use H<span class="math notranslate nohighlight">\(\alpha\)</span> to find the star formation rate in SDSS galaxies</p></li>
<li><p>Use the star forming main sequence to identify starburst galaxies and quiescent galaxies</p></li>
<li><p>Use SDSS image cutouts to explain bias in SFR metrics</p></li>
<li><p>Use D4000 as a proxy for star formation history</p></li>
</ul>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p>Computational</p>
<ul>
<li><p>Basic Python skills (e.g., for loops, conditional statements, defining functions)</p></li>
<li><p>Basics of <code>matplotlib</code> visualization, SQL queries, and SciServer platform (e.g., see <a class="reference external" href="https://escip.io/notebooks/sdss_tutorial_1.html">here</a>)</p></li>
<li><p>Using the <code><a class="reference external" href="https://docs.astropy.org/en/stable/units/index.html">astropy</a></code> package for fundamental constants and unit conversion</p></li>
</ul>
</li>
<li><p>Astrophysics</p>
<ul>
<li><p>Introductory knowledge of <a class="reference external" href="https://www.britannica.com/science/galaxy/Types-of-galaxies">galaxy classification</a></p></li>
<li><p>Introductory understanding of <a class="reference external" href="https://openstax.org/books/astronomy/pages/22-1-evolution-from-the-main-sequence-to-red-giants">stellar lifetimes and the HR diagram</a></p></li>
<li><p>Advanced conceptual understanding of applying the Case B approximation to counting photons</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import relevant libraries</span>

<span class="kn">import</span> <span class="nn">SciServer.CasJobs</span> <span class="k">as</span> <span class="nn">CasJobs</span> <span class="c1"># query with CasJobs</span>
<span class="kn">import</span> <span class="nn">SciServer.SkyServer</span> <span class="k">as</span> <span class="nn">SkyServer</span> <span class="c1"># look up objects and generate images</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># data analysis </span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span> <span class="c1"># more data analysis</span>
<span class="kn">from</span> <span class="nn">matplotlib</span> <span class="kn">import</span> <span class="n">pyplot</span> <span class="k">as</span> <span class="n">plt</span> <span class="c1"># another plotting library</span>
<span class="kn">from</span> <span class="nn">astropy.constants</span> <span class="kn">import</span> <span class="n">c</span> <span class="c1"># useful constants</span>
<span class="kn">from</span> <span class="nn">astropy</span> <span class="kn">import</span> <span class="n">units</span> <span class="k">as</span> <span class="n">u</span> <span class="c1"># useful for unit conversions</span>
<span class="kn">import</span> <span class="nn">astroML</span> <span class="c1"># enables plotting sdss spectrum</span>
<span class="kn">from</span> <span class="nn">astroML.datasets</span> <span class="kn">import</span> <span class="n">fetch_sdss_spectrum</span>
<span class="kn">from</span> <span class="nn">astropy.io</span> <span class="kn">import</span> <span class="n">ascii</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">ModuleNotFoundError</span><span class="g g-Whitespace">                       </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">line</span> <span class="mi">3</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># Import relevant libraries</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="kn">import</span> <span class="nn">SciServer.CasJobs</span> <span class="k">as</span> <span class="nn">CasJobs</span> <span class="c1"># query with CasJobs</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="kn">import</span> <span class="nn">SciServer.SkyServer</span> <span class="k">as</span> <span class="nn">SkyServer</span> <span class="c1"># look up objects and generate images</span>
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span> <span class="c1"># data analysis </span>

<span class="ne">ModuleNotFoundError</span>: No module named &#39;SciServer&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make notebook have a clean appearance</span>

<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="choosing-a-sample-of-galaxies">
<h1>Choosing a Sample of Galaxies<a class="headerlink" href="#choosing-a-sample-of-galaxies" title="Permalink to this headline">#</a></h1>
<p>Several SDSS schema will be used in this tutorial, each with unique data products helpful to investigate star formation. The <a class="reference external" href="http://skyserver.sdss.org/dr16/en/help/browser/browser.aspx#&amp;&amp;history=description+galSpecLine+U"><code>SpecObj</code></a> schema contains basic information about the observation and the object, such as the redshift <span class="math notranslate nohighlight">\(z\)</span>. The <a class="reference external" href="http://skyserver.sdss.org/dr16/en/help/browser/browser.aspx#&amp;&amp;history=description+PhotoObjAll+U"><code>galaxy</code></a> schema provides useful photometric measurements for colors and images. The three <code>GalSpec</code> schema each give products derived from spectroscopy. As you should know, the H<span class="math notranslate nohighlight">\(\alpha\)</span> emission line is a convienient indicator of the star formation rate. We want galaxies with quality measurements of this line strength, so a S/N restriction is specified. We also want the H<span class="math notranslate nohighlight">\(\beta\)</span> emission line, because as we will see below, this will assist us in accounting for dust absorption along our line of sight.</p>
<ul class="simple">
<li><p>By using H<span class="math notranslate nohighlight">\(\alpha\)</span> as indicator of star formation, how does this limit your analysis?</p></li>
<li><p>How do you expect highly star forming galaxies to look?</p></li>
</ul>
<p><b>Your answers to these questions:</b>
<br>
<br>
<br>
<br>
<br></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a query to fetch star forming galaxies</span>

<span class="n">query</span> <span class="o">=</span> <span class="s1">&#39;SELECT TOP 10000 s.plate, s.fiberid, s.mjd, s.ra, s.dec, s.z, s.zwarning, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;g.h_beta_flux, g.h_alpha_flux, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;g.h_beta_flux_err, g.h_alpha_flux_err, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;e.bptclass, e.lgm_tot_p50, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;i.lick_hd_a_sub, i.d4000_n_sub, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;i.lick_hd_a_sub_err, i.d4000_n_sub_err, &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;p.petror90_r &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;FROM GalSpecLine AS g, SpecObj AS s, GalSpecExtra AS e, GalSpecIndx AS i, galaxy AS p &#39;</span> 
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;WHERE &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;s.specobjid = g.specobjid &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.specobjid = e.specobjid &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.specobjid = i.specobjid &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.bestobjid = p.objid &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND bptclass = 1 &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.z BETWEEN 0.04 and 0.1 &#39;</span><span class="c1">#-- Lower limit needed for global parameters w/ small aperture</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND h_alpha_flux &gt; h_alpha_flux_err*5.0 &#39;</span> <span class="c1">#-- Make sure Balmer lines have adequate S/N</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND h_beta_flux &gt; h_beta_flux_err*5.0 &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND d4000_n_sub &gt; d4000_n_sub_err*5.0 &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND h_alpha_flux_err &gt; 0 &#39;</span> <span class="c1">#-- Consistency check</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND h_beta_flux_err &gt; 0 &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND h_alpha_flux &gt; 2.7*h_beta_flux &#39;</span> <span class="c1">#-- Ensures proper continuum subtraction</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND lgm_tot_p50 &gt; 0 &#39;</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND sigma_balmer &lt; 509.55 &#39;</span> <span class="c1">#-- Exclude the broad line emitting galaxies</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.class = </span><span class="se">\&#39;</span><span class="s1">GALAXY</span><span class="se">\&#39;</span><span class="s1"> &#39;</span>  <span class="c1">#-- Looking for galaxies, not stars</span>
<span class="n">query</span> <span class="o">+=</span> <span class="s1">&#39;AND s.zwarning = 0 &#39;</span>
<span class="c1">#print (query) # useful for debugging, remove first # to uncomment</span>

<span class="c1"># send query to CasJobs</span>
<span class="n">gals</span> <span class="o">=</span> <span class="n">CasJobs</span><span class="o">.</span><span class="n">executeQuery</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="s2">&quot;dr16&quot;</span><span class="p">)</span>

<span class="n">gals</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>plate</th>
      <th>fiberid</th>
      <th>mjd</th>
      <th>ra</th>
      <th>dec</th>
      <th>z</th>
      <th>zwarning</th>
      <th>h_beta_flux</th>
      <th>h_alpha_flux</th>
      <th>h_beta_flux_err</th>
      <th>h_alpha_flux_err</th>
      <th>bptclass</th>
      <th>lgm_tot_p50</th>
      <th>lick_hd_a_sub</th>
      <th>d4000_n_sub</th>
      <th>lick_hd_a_sub_err</th>
      <th>d4000_n_sub_err</th>
      <th>petror90_r</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>329</td>
      <td>6</td>
      <td>52056</td>
      <td>177.62908</td>
      <td>-3.326442</td>
      <td>0.078031</td>
      <td>0</td>
      <td>45.879730</td>
      <td>273.12190</td>
      <td>3.291739</td>
      <td>4.542729</td>
      <td>1</td>
      <td>10.661870</td>
      <td>3.828772</td>
      <td>1.453698</td>
      <td>1.001100</td>
      <td>0.028119</td>
      <td>6.909836</td>
    </tr>
    <tr>
      <th>1</th>
      <td>326</td>
      <td>147</td>
      <td>52375</td>
      <td>172.07771</td>
      <td>-2.878846</td>
      <td>0.095268</td>
      <td>0</td>
      <td>257.521400</td>
      <td>785.83600</td>
      <td>4.412366</td>
      <td>7.641911</td>
      <td>1</td>
      <td>9.859731</td>
      <td>7.313367</td>
      <td>1.139154</td>
      <td>1.037312</td>
      <td>0.020886</td>
      <td>6.646070</td>
    </tr>
    <tr>
      <th>2</th>
      <td>335</td>
      <td>190</td>
      <td>52000</td>
      <td>189.26213</td>
      <td>-2.982288</td>
      <td>0.088555</td>
      <td>0</td>
      <td>54.240750</td>
      <td>203.45360</td>
      <td>2.292731</td>
      <td>3.075485</td>
      <td>1</td>
      <td>9.830482</td>
      <td>6.429802</td>
      <td>1.246805</td>
      <td>1.304015</td>
      <td>0.028645</td>
      <td>4.525309</td>
    </tr>
    <tr>
      <th>3</th>
      <td>337</td>
      <td>27</td>
      <td>51997</td>
      <td>194.14905</td>
      <td>-2.919338</td>
      <td>0.052390</td>
      <td>0</td>
      <td>59.298840</td>
      <td>234.12340</td>
      <td>2.860254</td>
      <td>3.917636</td>
      <td>1</td>
      <td>10.147940</td>
      <td>4.229728</td>
      <td>1.323284</td>
      <td>1.003340</td>
      <td>0.024767</td>
      <td>6.746436</td>
    </tr>
    <tr>
      <th>4</th>
      <td>330</td>
      <td>316</td>
      <td>52370</td>
      <td>176.92980</td>
      <td>-2.563193</td>
      <td>0.076802</td>
      <td>0</td>
      <td>112.538500</td>
      <td>510.88790</td>
      <td>3.626529</td>
      <td>6.436479</td>
      <td>1</td>
      <td>10.251690</td>
      <td>4.821437</td>
      <td>1.284835</td>
      <td>1.115302</td>
      <td>0.026129</td>
      <td>4.442664</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>9995</th>
      <td>1719</td>
      <td>586</td>
      <td>53876</td>
      <td>229.20211</td>
      <td>9.636919</td>
      <td>0.085698</td>
      <td>0</td>
      <td>41.080730</td>
      <td>162.25520</td>
      <td>2.143597</td>
      <td>2.654202</td>
      <td>1</td>
      <td>9.889796</td>
      <td>4.391088</td>
      <td>1.267068</td>
      <td>1.423546</td>
      <td>0.032088</td>
      <td>6.319391</td>
    </tr>
    <tr>
      <th>9996</th>
      <td>1798</td>
      <td>499</td>
      <td>53851</td>
      <td>199.25717</td>
      <td>9.936388</td>
      <td>0.052416</td>
      <td>0</td>
      <td>27.837730</td>
      <td>209.10180</td>
      <td>1.961622</td>
      <td>3.422518</td>
      <td>1</td>
      <td>10.730490</td>
      <td>0.963644</td>
      <td>1.536464</td>
      <td>1.222649</td>
      <td>0.036792</td>
      <td>7.227845</td>
    </tr>
    <tr>
      <th>9997</th>
      <td>1806</td>
      <td>586</td>
      <td>53559</td>
      <td>208.88008</td>
      <td>9.501891</td>
      <td>0.070048</td>
      <td>0</td>
      <td>9.401968</td>
      <td>40.19081</td>
      <td>1.542465</td>
      <td>1.394677</td>
      <td>1</td>
      <td>9.787393</td>
      <td>1.583487</td>
      <td>1.501869</td>
      <td>1.816120</td>
      <td>0.050408</td>
      <td>10.510790</td>
    </tr>
    <tr>
      <th>9998</th>
      <td>1809</td>
      <td>616</td>
      <td>53792</td>
      <td>212.79641</td>
      <td>9.220711</td>
      <td>0.079386</td>
      <td>0</td>
      <td>41.077510</td>
      <td>190.89150</td>
      <td>1.806039</td>
      <td>2.547210</td>
      <td>1</td>
      <td>10.244090</td>
      <td>5.054030</td>
      <td>1.380123</td>
      <td>1.052414</td>
      <td>0.027612</td>
      <td>4.488715</td>
    </tr>
    <tr>
      <th>9999</th>
      <td>1810</td>
      <td>450</td>
      <td>53794</td>
      <td>213.27146</td>
      <td>9.215585</td>
      <td>0.062881</td>
      <td>0</td>
      <td>77.005220</td>
      <td>273.67080</td>
      <td>1.896502</td>
      <td>2.989808</td>
      <td>1</td>
      <td>9.121378</td>
      <td>3.194716</td>
      <td>1.223580</td>
      <td>1.290285</td>
      <td>0.026648</td>
      <td>2.047930</td>
    </tr>
  </tbody>
</table>
<p>10000 rows × 18 columns</p>
</div></div></div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="dereddening-the-spectrum">
<h1>Dereddening the Spectrum<a class="headerlink" href="#dereddening-the-spectrum" title="Permalink to this headline">#</a></h1>
<p>In order to determine the star formation rate (SFR) in each galaxy, we need to get the H<span class="math notranslate nohighlight">\(\alpha\)</span> luminosity <span class="math notranslate nohighlight">\(L\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>) emitted from each galaxy. The SQL query gives us the observed flux <span class="math notranslate nohighlight">\(F\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>), but this doesn’t account for <a class="reference external" href="https://en.wikipedia.org/wiki/Cosmic_dust">dust</a> absorbing some of this light as it travels from a galaxy to the point of observation. Fortunately, we can correct for this “extinction” by making use of the fact that dust preferentially absorbs shorter wavelength light to “deredden” the spectrum. In ideal conditions without dust, we can assume that <span class="math notranslate nohighlight">\(F\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>)/<span class="math notranslate nohighlight">\(F\)</span>(H<span class="math notranslate nohighlight">\(\beta\)</span>) = 2.86 in star forming regions. Let’s deredden the H<span class="math notranslate nohighlight">\(\alpha\)</span> flux.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Deredden emission lines according to Calzetii+ 2000</span>
<span class="c1"># wavelength supplied in angstroms</span>

<span class="k">def</span> <span class="nf">deredden</span><span class="p">(</span><span class="n">lum</span><span class="p">,</span><span class="n">wl</span><span class="p">,</span><span class="n">Hb</span><span class="p">,</span><span class="n">Ha</span><span class="p">):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">wl</span> <span class="o">&gt;=</span> <span class="mi">6300</span> <span class="ow">and</span> <span class="n">wl</span> <span class="o">&lt;=</span> <span class="mi">22000</span><span class="p">):</span>
        <span class="n">wl</span> <span class="o">=</span> <span class="n">wl</span><span class="o">/</span><span class="mf">1e4</span> <span class="c1"># convert to microns</span>
        <span class="n">kwl</span> <span class="o">=</span> <span class="mf">2.659</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mf">1.857</span><span class="o">+</span><span class="mf">1.040</span><span class="o">/</span><span class="n">wl</span><span class="p">)</span><span class="o">+</span><span class="mf">4.05</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">wl</span> <span class="o">&gt;=</span> <span class="mi">1200</span> <span class="ow">and</span> <span class="n">wl</span> <span class="o">&lt;</span> <span class="mi">6300</span><span class="p">):</span>
        <span class="n">wl</span> <span class="o">=</span> <span class="n">wl</span><span class="o">/</span><span class="mf">1e4</span> <span class="c1"># convert to microns</span>
        <span class="n">kwl</span> <span class="o">=</span> <span class="mf">2.659</span><span class="o">*</span><span class="p">(</span><span class="o">-</span><span class="mf">2.156</span><span class="o">+</span><span class="mf">1.509</span><span class="o">/</span><span class="n">wl</span><span class="o">-</span><span class="mf">0.198</span><span class="o">/</span><span class="n">wl</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mf">0.011</span><span class="o">/</span><span class="n">wl</span><span class="o">**</span><span class="mi">3</span><span class="p">)</span><span class="o">+</span><span class="mf">4.05</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span> <span class="p">(</span><span class="s1">&#39;Wavelength of range&#39;</span><span class="p">)</span>
    
    <span class="c1"># Using k-values calc as above</span>
    <span class="n">kHa</span> <span class="o">=</span> <span class="mf">3.326</span>
    <span class="n">kHb</span> <span class="o">=</span> <span class="mf">4.598</span>
    
    <span class="n">ebmv</span> <span class="o">=</span> <span class="mf">2.5</span><span class="o">/</span><span class="p">(</span><span class="n">kHb</span><span class="o">-</span><span class="n">kHa</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Ha</span><span class="o">/</span><span class="n">Hb</span><span class="o">/</span><span class="mf">2.86</span><span class="p">)</span> <span class="c1"># 2.86 for SF; 3.1 for AGN</span>
    <span class="n">lum_dr</span> <span class="o">=</span> <span class="n">lum</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="mf">0.4</span><span class="o">*</span><span class="n">kwl</span><span class="o">*</span><span class="n">ebmv</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">lum_dr</span>

<span class="c1">####</span>

<span class="n">Halpha_flux</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[</span><span class="s1">&#39;h_alpha_flux&#39;</span><span class="p">]</span>
<span class="n">Hbeta_flux</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[</span><span class="s1">&#39;h_beta_flux&#39;</span><span class="p">]</span>

<span class="n">Halpha_flux_dr</span> <span class="o">=</span> <span class="n">deredden</span><span class="p">(</span><span class="n">Halpha_flux</span><span class="p">,</span><span class="mi">6563</span><span class="p">,</span><span class="n">Hbeta_flux</span><span class="p">,</span><span class="n">Halpha_flux</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="determining-the-star-formation-rate">
<h1>Determining the Star Formation Rate<a class="headerlink" href="#determining-the-star-formation-rate" title="Permalink to this headline">#</a></h1>
<p>According to the <a class="reference external" href="http://skyserver.sdss.org/dr16/en/help/browser/browser.aspx#&amp;&amp;history=description+galSpecLine+U"><code>GalSpecLine</code></a> schema, the line flux is returned as 10<span class="math notranslate nohighlight">\(^{-17}\)</span> <i>erg/s/cm<span class="math notranslate nohighlight">\(^2\)</span></i>, so we first need to multiply our dereddened <span class="math notranslate nohighlight">\(F\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>) by 10<span class="math notranslate nohighlight">\(^{-17}\)</span> to get actual flux value. Luminosity has units of energy / second, and an <i>erg</i> is a unit of energy, so we’re almost there. Use the space provided below to convert <span class="math notranslate nohighlight">\(F\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>) to <span class="math notranslate nohighlight">\(L\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>) and name that variable <code>Halpha_lum_dr</code>.</p>
<ul class="simple">
<li><p>How can you get the distance to the galaxy in <i>cm</i>?</p></li>
<li><p>How does distance factor into converting flux to luminosity?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code for calculating Halpha_lum_dr</span>

<span class="c1"># Halpha_lum_dr = </span>
</pre></div>
</div>
</div>
</div>
<p>We can now use the <span class="math notranslate nohighlight">\(L\)</span>(H<span class="math notranslate nohighlight">\(\alpha\)</span>) to determine the SFR in units of M<span class="math notranslate nohighlight">\(_{\odot}\)</span>/yr using the conversion from <a class="reference external" href="https://ui.adsabs.harvard.edu/abs/1998ApJ...498..541K/abstract">Kennicutt+ 1998</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">sfr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Halpha_lum_dr</span><span class="o">*</span><span class="mf">7.9e-42</span><span class="p">)</span>

<span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sfr</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sfr</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">2.0</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;SFR [M$_{\odot}$/yr]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;N&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="ne">NameError</span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="mi">5708</span><span class="n">a5e908ea</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">sfr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">Halpha_lum_dr</span><span class="o">*</span><span class="mf">7.9e-42</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> 
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sfr</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">sfr</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>

<span class="ne">NameError</span>: name &#39;Halpha_lum_dr&#39; is not defined
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="the-star-forming-main-sequence">
<h1>The Star Forming Main Sequence<a class="headerlink" href="#the-star-forming-main-sequence" title="Permalink to this headline">#</a></h1>
<p>A common measure of galaxy mass is its stellar mass M<span class="math notranslate nohighlight">\(_*\)</span> in units of M<span class="math notranslate nohighlight">\(_{\odot}\)</span>, however a galaxy’s mass can be defined in many ways. We can roughly envision that M<span class="math notranslate nohighlight">\(_*\)</span> is proxy for galaxy size since larger galaxies typically contain more stars.</p>
<ul class="simple">
<li><p>Would you expect the number of star froming regions in a galaxy to increase or decrease as M<span class="math notranslate nohighlight">\(_*\)</span> increases?</p></li>
<li><p>How would expect the SFR to correlate with M<span class="math notranslate nohighlight">\(_*\)</span>? Explain.</p></li>
</ul>
<p><b>Your answers to these questions:</b>
<br>
<br>
<br>
<br>
<br></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Mstar = gals[&#39;lgm_tot_p50&#39;] #uncomment this line</span>

<span class="n">mstar_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">8.0</span><span class="p">,</span><span class="mf">12.0</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span>
<span class="n">poly1d_fn</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">poly1d</span><span class="p">([</span><span class="mf">1.192</span><span class="p">,</span><span class="o">-</span><span class="mf">12.31</span><span class="p">])</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;M$_*$ [M$_{\odot}$]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;SFR [M$_{\odot}$/yr]&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mf">8.0</span><span class="p">,</span><span class="mf">12.0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Mstar</span><span class="p">,</span><span class="n">sfr</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mstar_array</span><span class="p">,</span> <span class="n">poly1d_fn</span><span class="p">(</span><span class="n">mstar_array</span><span class="p">),</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;MS&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="ne">NameError</span>Traceback (most recent call last)
<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="n">e4a2d5b20d2e</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="o">-</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">1.5</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">11</span> 
<span class="ne">---&gt; </span><span class="mi">12</span> <span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">Mstar</span><span class="p">,</span><span class="n">sfr</span><span class="p">,</span><span class="n">s</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">mstar_array</span><span class="p">,</span> <span class="n">poly1d_fn</span><span class="p">(</span><span class="n">mstar_array</span><span class="p">),</span> <span class="s1">&#39;k--&#39;</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s1">&#39;MS&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">14</span> 

<span class="ne">NameError</span>: name &#39;Mstar&#39; is not defined
</pre></div>
</div>
<img alt="../_images/star_formation_v2_20_1.png" src="../_images/star_formation_v2_20_1.png" />
</div>
</div>
<p>We can see that star forming galaxies lie on what is known as the star forming main sequence, which is a shout out to the stellar main sequence on the HR diagram. The SF main sequence is based on the correlation between SFR and M<span class="math notranslate nohighlight">\(_*\)</span> where “typical” star forming galaxies lie.</p>
<ul class="simple">
<li><p>In terms of appearance, how would you expect SF galaxies with high SFR to compare to those with low SFR?</p>
<ul>
<li><p>Would you expect them to be spirals or elliptical?</p></li>
<li><p>Blue in color or red in color?</p></li>
<li><p>Brighter or dimmer?</p></li>
</ul>
</li>
</ul>
<p><b>Your answer to this question:</b>
<br>
<br>
<br>
<br>
<br></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="visualizing-the-sample-with-image-cutouts">
<h1>Visualizing the Sample with Image Cutouts<a class="headerlink" href="#visualizing-the-sample-with-image-cutouts" title="Permalink to this headline">#</a></h1>
<p>Once you have provided your answer above, let’s actually have a look at the images of galaxies that have high SFR and low SFR. We can create function to gather up the images for us. The function takes in an filtered array of galaxies to isolate those of interest and description of the filtering procedure to display at run time. The first block of code will display the high SFR rate galaxies and then next block will display low SFR galaxies.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#</span>
<span class="c1"># Function to display images</span>
<span class="c1">#</span>
<span class="k">def</span> <span class="nf">get_images</span><span class="p">(</span><span class="n">gal_array</span><span class="p">,</span><span class="n">description</span><span class="p">):</span>
    <span class="c1"># set thumbnail parameters</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">200</span>           <span class="c1"># image width</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">200</span>          <span class="c1"># height</span>
    <span class="n">pixelsize</span><span class="o">=</span><span class="mf">0.396</span>     <span class="c1"># image scale</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>   <span class="c1"># display in a 4x4 grid</span>
    <span class="n">subPlotNum</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">new_gals</span> <span class="o">=</span> <span class="n">gal_array</span>
    <span class="n">nGalaxies</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_gals</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span><span class="n">new_gals</span> <span class="ow">in</span> <span class="n">new_gals</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>           <span class="c1"># iterate through rows in the DataFrame</span>
        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">17</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Getting image of &#39;</span><span class="o">+</span><span class="n">description</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39; of &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">nGalaxies</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;...&#39;</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">nGalaxies</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Plotting images...&#39;</span><span class="p">)</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">new_gals</span><span class="p">[</span><span class="s1">&#39;petror90_r&#39;</span><span class="p">]</span><span class="o">/</span><span class="n">pixelsize</span><span class="o">/</span><span class="n">width</span>
            <span class="n">img</span><span class="o">=</span> <span class="n">SkyServer</span><span class="o">.</span><span class="n">getJpegImgCutout</span><span class="p">(</span><span class="n">ra</span><span class="o">=</span><span class="n">new_gals</span><span class="p">[</span><span class="s1">&#39;ra&#39;</span><span class="p">],</span> <span class="n">dec</span><span class="o">=</span><span class="n">new_gals</span><span class="p">[</span><span class="s1">&#39;dec&#39;</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">height</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">scale</span><span class="p">,</span> <span class="n">dataRelease</span><span class="o">=</span><span class="s1">&#39;DR16&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="n">subPlotNum</span><span class="p">)</span>
            <span class="n">subPlotNum</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>                               <span class="c1"># show images in grid</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
            
<span class="c1">######</span>

<span class="n">filtered_gals</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[(</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">-</span><span class="mf">0.05</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span><span class="o">&lt;</span> <span class="mf">0.05</span><span class="p">)]</span> <span class="c1"># only galaxies with high SFR</span>
<span class="n">get_images</span><span class="p">(</span><span class="n">filtered_gals</span><span class="p">,</span><span class="s1">&#39;high SFR galaxy &#39;</span><span class="p">)</span> <span class="c1"># call function with filtered galaxy array</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">filtered_gals</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[(</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">-</span><span class="mf">1.55</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sfr&#39;</span><span class="p">]</span><span class="o">&lt;</span> <span class="o">-</span><span class="mf">1.45</span><span class="p">)]</span> <span class="c1"># only galaxies with high SFR</span>
<span class="n">get_images</span><span class="p">(</span><span class="n">filtered_gals</span><span class="p">,</span><span class="s1">&#39;low SFR galaxy &#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>How did these results compare to your answer above?</p>
<p>It might seems intuitive to think that a high SFR means that more O- and B-type stars, which means blue colors in disk-like structures. However, while it’s true that most of the images above are disk-like, there’s a wide assortment of colors. In fact, there’s a variety colors and disk-like structures in both samples, suggesting that they have something in common (i.e., the MS).</p>
<p>Much like stars can deviate from the MS on the HR diagram, galaxies can deviate from the MS on the SFR-M<span class="math notranslate nohighlight">\(_*\)</span> diagram. At a given M<span class="math notranslate nohighlight">\(_*\)</span>, starburst galaxies have 10x the SFR of MS galaxies, while quiescent galaxies have a 0.01x the SFR of MS galaxies. Use these definitions to add two more lines to the SFR-M<span class="math notranslate nohighlight">\(_*\)</span> plot denoting the location of starbursts and quiescent galaxies.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code to add starburst and quiescent demarcations</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="understanding-the-ssfr-metric">
<h1>Understanding the sSFR Metric<a class="headerlink" href="#understanding-the-ssfr-metric" title="Permalink to this headline">#</a></h1>
<p>It becomes evident from this plot that when we want to identify a highly star forming galaxy, the metric we’re usually after is the specific star formation rate sSFR. It is defined as</p>
<p><span class="math notranslate nohighlight">\(\mathrm{sSFR}\equiv\frac{\mathrm{SFR}}{\mathrm{M}_*}\)</span></p>
<p>and represents ratio of current star formation to past star formation, or the growth rate of stellar mass in a galaxy. We can add the sSFR to our dataframe to explore the metric in detail.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ssfr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">**</span><span class="n">sfr</span><span class="o">/</span><span class="mi">10</span><span class="o">**</span><span class="n">Mstar</span><span class="p">)</span>
<span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sSFR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ssfr</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;sSFR [yr$^{-1}$]&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;N&#39;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sSFR&#39;</span><span class="p">],</span><span class="n">bins</span><span class="o">=</span><span class="mi">25</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>In the cell below, display the images for a sample of starburst galaxies and a sample of quiescent galaxies. Do these galaxies align with what you orignally envisioned high and low SFR galaxies to look like?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code to display images of starburst and quiescent</span>
</pre></div>
</div>
</div>
</div>
<p>While the sSFR is measure of the relative star formation taking place in a galaxy, the sSFR values aren’t that intuitive. A simple way to gain more intuition is by taking the inverse of the sSFR, which gives us</p>
<p><span class="math notranslate nohighlight">\(\tau_d = \frac{\mathrm{M}_*}{\mathrm{SFR}}\)</span></p>
<p>where <span class="math notranslate nohighlight">\(\tau_d\)</span> is the amount of time needed to form the current stellar population or the mass-doubling timescale. We can infer the SFHs of galaxies by comparing <span class="math notranslate nohighlight">\(\tau_d\)</span> to the Hubble time (i.e., the age of the universe). In the space below, compare the mass-doubling timescales of the galaxies to the Hubble time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your code to calculate doubling times and compare to the Hubble time</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Which galaxies formed most of their stars long ago and which galaxies are forming most of their stars now?</p></li>
<li><p>Where do these galaxies fall relative to the SF main sequence?</p></li>
<li><p>How do the masses of these galaxies compare?</p></li>
</ul>
<p><b>Your answers to these questions:</b>
<br>
<br>
<br>
<br>
<br></p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="creating-a-link-to-sfhs">
<h1>Creating a Link to SFHs<a class="headerlink" href="#creating-a-link-to-sfhs" title="Permalink to this headline">#</a></h1>
<p>We can use <span class="math notranslate nohighlight">\(\tau_d\)</span> to infer the star formation history (SFH) of a galaxy, but underlying blackbody curve in the continuum of galaxies also tells us about their SFH. The “break” at 400 nm (4000 Angstroms) is typically written as D4000 and serves as a measure for the discontinuity of the blackbody curve. It is typically defined as,</p>
<p><span class="math notranslate nohighlight">\(D4000 = \frac{\int_{4000}^{4100}f_{\lambda} d\lambda}{\int_{3850}^{3950}f_{\lambda} d\lambda}\)</span></p>
<p>where the integration over wavelength is shown in Angstroms. Under this definition, D4000 = 1.0 would represent a flat underlying spectrum, also known as the continuum. If D4000 &gt; 1.0 then there’s a discontinuity in the continuum. Let’s take a look at the spectrum around 4000 Angstroms for starburst galaxy and a quiescent galaxy.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">starbursts</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sSFR&#39;</span><span class="p">]</span><span class="o">&gt;-</span><span class="mf">9.5</span><span class="p">]</span>
<span class="n">indices</span> <span class="o">=</span> <span class="n">starbursts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span>
<span class="n">plate</span> <span class="o">=</span> <span class="n">starbursts</span><span class="p">[</span><span class="s1">&#39;plate&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">mjd</span> <span class="o">=</span> <span class="n">starbursts</span><span class="p">[</span><span class="s1">&#39;mjd&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">fiber</span> <span class="o">=</span> <span class="n">starbursts</span><span class="p">[</span><span class="s1">&#39;fiberid&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>

<span class="n">spec</span> <span class="o">=</span> <span class="n">fetch_sdss_spectrum</span><span class="p">(</span><span class="n">plate</span><span class="o">=</span><span class="n">plate</span><span class="p">,</span><span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="p">,</span><span class="n">mjd</span><span class="o">=</span><span class="n">mjd</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">3800</span><span class="p">,</span><span class="mi">4300</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$\lambda$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$F_{\lambda}$&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">wavelength</span><span class="p">(),</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectrum</span><span class="p">,</span> <span class="s1">&#39;-k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">quiescent</span> <span class="o">=</span> <span class="n">gals</span><span class="p">[</span><span class="n">gals</span><span class="p">[</span><span class="s1">&#39;sSFR&#39;</span><span class="p">]</span><span class="o">&lt;-</span><span class="mf">11.5</span><span class="p">]</span>
<span class="n">indices</span> <span class="o">=</span> <span class="n">quiescent</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span>
<span class="n">plate</span> <span class="o">=</span> <span class="n">quiescent</span><span class="p">[</span><span class="s1">&#39;plate&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">mjd</span> <span class="o">=</span> <span class="n">quiescent</span><span class="p">[</span><span class="s1">&#39;mjd&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>
<span class="n">fiber</span> <span class="o">=</span> <span class="n">quiescent</span><span class="p">[</span><span class="s1">&#39;fiberid&#39;</span><span class="p">][</span><span class="n">indices</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span>

<span class="n">spec</span> <span class="o">=</span> <span class="n">fetch_sdss_spectrum</span><span class="p">(</span><span class="n">plate</span><span class="o">=</span><span class="n">plate</span><span class="p">,</span><span class="n">fiber</span><span class="o">=</span><span class="n">fiber</span><span class="p">,</span><span class="n">mjd</span><span class="o">=</span><span class="n">mjd</span><span class="p">)</span>

<span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">axes</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">3800</span><span class="p">,</span><span class="mi">4500</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">30</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;$\lambda$&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;$F_{\lambda}$&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">spec</span><span class="o">.</span><span class="n">wavelength</span><span class="p">(),</span> <span class="n">spec</span><span class="o">.</span><span class="n">spectrum</span><span class="p">,</span> <span class="s1">&#39;-k&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;spectrum&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<ul class="simple">
<li><p>Do these plots make sense to you given what you know about D4000, starburst galaxies, and quiescent galaxies? Explain.</p></li>
<li><p>In the space below, explain how you would expect D4000 to correlate with sSFR.</p></li>
<li><p>Write a snippet of code to verify your answer.</p></li>
</ul>
<p><b>Your answer to this question:</b>
<br>
<br>
<br>
<br>
<br></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># your plot showing the correlation between sSFR and D4000</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="follow-up-questions">
<h1>Follow Up Questions<a class="headerlink" href="#follow-up-questions" title="Permalink to this headline">#</a></h1>
<p>In this Lecture-Tutorial, we developed some intuition about star formation in galaxies. There are several avenues for further exploration that you can dig into further.</p>
<ul class="simple">
<li><p>Construct a color magnitude diagram of the galaxies in our sample</p>
<ul>
<li><p>Where do the low mass and high mass galaxies lie?</p></li>
<li><p>Are there trends with MS / starbursting / quiescent galaxies?</p></li>
<li><p>How would you expect D4000 to correlate with g-r color?</p></li>
</ul>
</li>
</ul>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "ESCIP/escip.github.io",
            ref: "jbook",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./notebooks"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="sdss_tutorial_1.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">SDSS Tutorial #1:  Data Querying and Visualization</p>
        </div>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By ESCIP Community<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>